<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCHS Bulldog Engineering | West Covina High School</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=JetBrains+Mono&display=swap');
        
        :root {
            --wchs-maroon: #7f1d1d;
            --wchs-gold: #fbbf24;
        }

        body {
            font-family: 'Outfit', sans-serif;
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        .mono { font-family: 'JetBrains Mono', monospace; }

        .hero-gradient {
            background: linear-gradient(135deg, #450a0a 0%, #1a0505 100%);
        }

        /* Accessibility: Skip to Content Link */
        .skip-link {
            position: absolute;
            top: -60px;
            left: 0;
            background: var(--wchs-gold);
            color: #000;
            padding: 12px 24px;
            font-weight: bold;
            z-index: 200;
            transition: top 0.3s;
            border-bottom-right-radius: 8px;
        }
        .skip-link:focus {
            top: 0;
        }

        .nav-link {
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            z-index: 100;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background-color: var(--wchs-gold);
            transition: width 0.3s ease;
        }

        .nav-link:hover::after { width: 100%; }

        .view-section {
            display: none;
            animation: fadeIn 0.4s ease-out forwards;
        }

        .view-section.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Improved card interactivity */
        .pathway-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 10;
        }

        .pathway-card:hover {
            transform: translateY(-8px);
            border-color: var(--wchs-gold);
            box-shadow: 0 20px 40px -15px rgba(127, 29, 29, 0.2);
            background-color: white;
        }

        /* Accessibility: Focus indicators */
        .pathway-card:focus-visible, .nav-link:focus-visible, button:focus-visible, a:focus-visible {
            outline: 3px solid var(--wchs-gold);
            outline-offset: 2px;
        }

        .gallery-item {
            position: relative;
            aspect-ratio: 1/1;
            overflow: hidden;
            border-radius: 1rem;
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img { transform: scale(1.05); }

        .loader {
            width: 30px;
            height: 30px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--wchs-maroon);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-[#450a0a]/95 backdrop-blur-md text-white border-b border-amber-500/20" role="navigation" aria-label="Main Navigation Hub">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <button class="flex items-center gap-3 cursor-pointer group bg-transparent border-none text-left p-0" onclick="showView('home')" aria-label="Go to Bulldog Engineering Home Page">
                    <div class="w-10 h-10 bg-amber-400 rounded-lg flex items-center justify-center text-maroon-900 shadow-lg shadow-amber-400/20 transition-transform group-hover:scale-110" aria-hidden="true">
                        <i class="fas fa-dog text-xl text-red-900"></i>
                    </div>
                    <span class="font-extrabold text-xl tracking-tighter uppercase text-white">Bulldog<span class="text-amber-400">Eng</span></span>
                </button>
                <div class="hidden lg:flex space-x-8 mono text-[10px] font-bold tracking-widest">
                    <button onclick="showView('home')" class="nav-link bg-transparent border-none text-white/90 uppercase" aria-label="Navigate to Home">HOME</button>
                    <button onclick="showView('engineering')" class="nav-link bg-transparent border-none text-white/90 uppercase" aria-label="Navigate to Engineering Portfolio">ENGINEERING</button>
                    <button onclick="showView('business-robotics-i')" class="nav-link bg-transparent border-none text-white/90 uppercase" aria-label="Navigate to Business Robotics Portfolio">BUSINESS ROBOTICS</button>
                    <button onclick="showView('architectural-design')" class="nav-link bg-transparent border-none text-white/90 uppercase" aria-label="Navigate to Architecture Portfolio">ARCHITECTURE</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- HOME VIEW -->
    <main id="view-home" class="view-section active">
        <section id="main-content" class="hero-gradient min-h-[60vh] flex items-center pt-20">
            <div class="max-w-7xl mx-auto px-4 text-white">
                <div class="inline-block px-4 py-1 bg-amber-400/10 border border-amber-400/30 text-amber-400 rounded-full text-xs font-bold uppercase tracking-widest mb-6">WCHS CTE Pathways</div>
                <h1 class="text-6xl md:text-8xl font-black tracking-tighter italic uppercase">The <span class="text-amber-400">Kennel.</span></h1>
                <p class="text-xl text-slate-300 mt-4 max-w-xl leading-relaxed">West Covina High School's premier hub for Engineering, Robotics, and Architectural Design.</p>
                <div class="mt-8">
                    <a href="https://www.wchsbulldogs.net/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-6 py-3 bg-amber-400 text-maroon-950 font-bold rounded-xl hover:bg-amber-300 transition-colors" aria-label="Visit the official West Covina High School Website (Opens in a new tab)">
                        WCHS MAIN SITE <i class="fas fa-external-link-alt text-xs" aria-hidden="true"></i>
                    </a>
                </div>
            </div>
        </section>

        <!-- Dynamic Hub Grid -->
        <section class="py-24 bg-white" aria-labelledby="portfolio-heading">
            <div class="max-w-7xl mx-auto px-4">
                <h2 id="portfolio-heading" class="text-3xl font-black uppercase mb-12 italic tracking-tighter text-maroon-900 border-l-4 border-amber-400 pl-4">Program Portfolios</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    
                    <!-- Engineering Column -->
                    <div class="space-y-4" role="region" aria-label="Engineering Course Track">
                        <div class="bg-maroon-900 p-6 rounded-2xl text-white">
                            <h3 class="font-bold uppercase tracking-widest text-xs text-amber-400">Engineering Pathway</h3>
                        </div>
                        <button onclick="showView('robotics')" class="w-full text-left p-6 bg-slate-50 rounded-2xl border border-slate-200 pathway-card" aria-label="View Robotics Portfolio Gallery">
                            <h4 class="font-bold uppercase text-sm">Robotics</h4>
                            <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest">Foundation Level</p>
                        </button>
                        <button onclick="showView('pre-engineering')" class="w-full text-left p-6 bg-slate-50 rounded-2xl border border-slate-200 pathway-card" aria-label="View Pre-Engineering Portfolio Gallery">
                            <h4 class="font-bold uppercase text-sm">Pre-Engineering</h4>
                            <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest">Foundation Level</p>
                        </button>
                        <button onclick="showView('engineering')" class="w-full text-left p-6 bg-slate-50 rounded-2xl border border-slate-200 pathway-card" aria-label="View Engineering Portfolio Gallery">
                            <h4 class="font-bold uppercase text-sm">Engineering</h4>
                            <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest">Advanced Level</p>
                        </button>
                        <button onclick="showView('honors-engineering')" class="w-full text-left p-6 bg-slate-50 rounded-2xl border border-slate-200 pathway-card" aria-label="View Honors Engineering Portfolio Gallery">
                            <h4 class="font-bold uppercase text-sm">Honors Engineering</h4>
                            <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest">Capstone Level</p>
                        </button>
                    </div>

                    <!-- Robotics Column -->
                    <div class="space-y-4" role="region" aria-label="Business Robotics Course Track">
                        <div class="bg-amber-500 p-6 rounded-2xl text-maroon-900">
                            <h3 class="font-bold uppercase tracking-widest text-xs text-maroon-900">Business Robotics</h3>
                        </div>
                        <button onclick="showView('business-robotics-i')" class="w-full text-left p-6 bg-slate-50 rounded-2xl border border-slate-200 pathway-card" aria-label="View Business Robotics I Portfolio Gallery">
                            <h4 class="font-bold uppercase text-sm">Business Robotics I</h4>
                        </button>
                        <button onclick="showView('business-robotics-ii')" class="w-full text-left p-6 bg-slate-50 rounded-2xl border border-slate-200 pathway-card" aria-label="View Business Robotics II Portfolio Gallery">
                            <h4 class="font-bold uppercase text-sm">Business Robotics II</h4>
                        </button>
                        <button onclick="showView('competitions')" class="w-full text-left p-6 bg-slate-900 rounded-2xl border border-slate-800 pathway-card text-white" aria-label="View Competition Highlights and Photos">
                            <h4 class="font-bold uppercase text-sm text-amber-400">Competitions</h4>
                            <p class="text-[10px] opacity-60 mt-1 uppercase tracking-widest">VEX & FIRST Robotics</p>
                        </button>
                    </div>

                    <!-- Architecture Column -->
                    <div class="space-y-4" role="region" aria-label="Architecture Course Track">
                        <div class="bg-slate-900 p-6 rounded-2xl text-white">
                            <h3 class="font-bold uppercase tracking-widest text-xs text-amber-400">Architecture</h3>
                        </div>
                        <button onclick="showView('intro-to-cadd')" class="w-full text-left p-6 bg-slate-50 rounded-2xl border border-slate-200 pathway-card" aria-label="View Intro to CADD Portfolio Gallery">
                            <h4 class="font-bold uppercase text-sm">Intro to CADD</h4>
                        </button>
                        <button onclick="showView('architectural-design')" class="w-full text-left p-6 bg-slate-50 rounded-2xl border border-slate-200 pathway-card" aria-label="View Architectural Design Portfolio Gallery">
                            <h4 class="font-bold uppercase text-sm">Architectural Design</h4>
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- DYNAMIC GALLERY VIEW -->
    <section id="view-gallery" class="view-section pt-32 pb-24 min-h-screen" aria-live="polite">
        <div class="max-w-7xl mx-auto px-4">
            <button onclick="showView('home')" class="mb-8 text-maroon-800 font-bold uppercase text-xs tracking-widest flex items-center gap-2 hover:translate-x-[-4px] transition-transform" aria-label="Return to Program Portfolios Hub">
                <i class="fas fa-arrow-left" aria-hidden="true"></i> Back to Hub
            </button>
            <div class="mb-12">
                <h2 id="gallery-title" class="text-5xl font-black uppercase italic tracking-tighter mb-4">Gallery</h2>
                <p id="gallery-description" class="text-slate-600 max-w-3xl mb-8 leading-relaxed"></p>
                <div id="gallery-status" class="text-[10px] font-bold uppercase tracking-widest text-slate-400" aria-live="status"></div>
            </div>
            <div id="dynamic-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
                <!-- Content Loaded via JS -->
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-20 bg-slate-950 text-slate-500 text-center border-t border-white/5" role="contentinfo">
        <div class="flex items-center justify-center gap-3 text-white mb-6">
            <i class="fas fa-dog text-amber-400" aria-hidden="true"></i>
            <span class="font-extrabold text-xl tracking-tighter uppercase">Bulldog<span class="text-amber-400">Eng</span></span>
        </div>
        <p class="text-[10px] uppercase tracking-[0.4em] font-bold">West Covina High School â€¢ Bulldog Engineering</p>
        <p class="text-[10px] mt-4 uppercase tracking-[0.2em]">
            <a href="https://www.wchsbulldogs.net/" target="_blank" rel="noopener noreferrer" class="hover:text-amber-400 transition-colors" aria-label="Visit official West Covina High School website (opens in a new tab)">Visit Official School Site</a>
        </p>
    </footer>

    <script>
        /**
         * CONFIGURATION
         */
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxKbkB13PmrSaj9uC-ntfR6Xouad6lAW95HeucQaSizzFnmW89CHOLtrp51iwmW4Ko-mg/exec"; 

        const FOLDER_CONFIG = {
            'robotics': '1kajz9Bw_30Uxd-5RCectJkXzwJZjSWq4',
            'pre-engineering': '12BMsv2Jms-HHprtoBQ3If3FXPjGNr42I',
            'engineering': '1wDlPWMaf0xeXiRp_2v1_kmUEH4JQh84n',
            'honors-engineering': '111NiCMMLa4GQZuFm6gKXBC_B3GsKWPkG',
            'business-robotics-i': '1HeZsBHNNtkRaWYFfOwe4d-RoCBF2IhNz',
            'business-robotics-ii': '1gnPHqDx4KNc3tupN8N-WKBWRGc9gyip6',
            'competitions': '1tiQqwCe8Ig7HTCMANFnCBU18y_7l3OYc',
            'intro-to-cadd': '12TL_Inphmwn-SfcpHWcIW7axcc3v2Uem',
            'architectural-design': '1p9KTTrnexf8o8PnBzyiJvyopH-IgsL05'
        };

        const DESCRIPTION_CONFIG = {
            'robotics': 'This introductory course focuses on the foundational concepts of robotics, including mechanical drive-trains, basic sensor integration, and logic-based programming. Students work with VEX systems to solve initial engineering challenges.',
            'pre-engineering': 'A cornerstone of the program, Pre-Engineering introduces students to technical sketching, the formal engineering design process, and professional-grade 3D CAD modeling. It serves as the prerequisite for all advanced pathways.',
            'engineering': 'Students in this advanced course tackle complex systems challenges, focusing on mechanical assembly, applied physics, and manufacturing. The course bridges the gap between digital design and physical prototyping.',
            'honors-engineering': 'The elite capstone of the Engineering pathway. Senior students execute an independent, professional-level Research and Development project, identifying a real-world problem and designing a verified technical solution.',
            'business-robotics-i': 'Merging technical skill with enterprise leadership, Level I introduces students to automated systems while teaching the logistics of running a technical organization, project management, and professional communication.',
            'business-robotics-ii': 'Advanced competition robotics. Students lead technical departments, manage organizational budgets, and pursue industry partnerships while executing complex, high-stakes hardware builds.',
            'competitions': 'Highlights from the front lines of VEX and FIRST Robotics competitions. This gallery showcases the grit, teamwork, and technical problem-solving required for Bulldog success on a global stage.',
            'intro-to-cadd': 'Students master the basics of Computer-Aided Design and Drafting, learning to create precise technical blueprints and foundational 3D models for both residential and industrial applications.',
            'architectural-design': 'An advanced focus on structural theory, urban planning, and environmental sustainability. Students develop a professional portfolio featuring detailed architectural renders and site design analysis.'
        };

        /**
         * Global View Controller
         */
        window.showView = function(viewId) {
            console.log("Switching to view:", viewId);
            const isGallery = FOLDER_CONFIG[viewId];
            
            // Hide all views
            document.querySelectorAll('.view-section').forEach(v => v.classList.remove('active'));
            
            if (isGallery) {
                const target = document.getElementById('view-gallery');
                if (target) {
                    target.classList.add('active');
                    
                    const displayTitle = viewId.split('-').map(word => {
                        if (word === 'i' || word === 'ii') return word.toUpperCase();
                        if (word === 'cadd') return 'CADD';
                        return word.charAt(0).toUpperCase() + word.slice(1);
                    }).join(' ');
                    
                    document.getElementById('gallery-title').innerText = displayTitle;
                    document.getElementById('gallery-description').innerText = DESCRIPTION_CONFIG[viewId] || "Explore student work from this course.";
                    
                    loadGalleryFromDrive(viewId, displayTitle);
                }
            } else {
                const homeTarget = document.getElementById('view-' + viewId);
                if (homeTarget) homeTarget.classList.add('active');
            }
            window.scrollTo(0,0);
        };

        /**
         * Gallery Engine
         */
        async function loadGalleryFromDrive(slug, title) {
            const grid = document.getElementById('dynamic-grid');
            const status = document.getElementById('gallery-status');
            const folderId = FOLDER_CONFIG[slug];
            
            if (!grid) return;

            grid.innerHTML = '<div class="col-span-full py-20 flex justify-center"><div class="loader" role="status" aria-label="Loading student projects"></div></div>';
            status.innerText = "Syncing with Lab...";

            try {
                const fetchUrl = SCRIPT_URL + "?id=" + folderId;
                const response = await fetch(fetchUrl);
                if (!response.ok) throw new Error("Connection failed");
                const photos = await response.json();
                if (photos.error) throw new Error(photos.error);

                status.innerText = photos.length + " Items Synchronized";
                
                grid.innerHTML = photos.length ? photos.map((p, index) => `
                    <div class="gallery-item group">
                        <img src="${p.url}" alt="Student engineering project photo ${index + 1} from the ${title} course" loading="lazy" onerror="this.parentElement.style.display='none'">
                        <div class="absolute inset-0 bg-maroon-900/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center" aria-hidden="true">
                             <i class="fas fa-expand text-white text-xl"></i>
                        </div>
                    </div>
                `).join('') : '<p class="text-slate-400 italic col-span-full text-center py-20">This lab folder is currently empty.</p>';

            } catch (e) {
                console.error("Sync Error:", e);
                status.innerText = "Offline";
                grid.innerHTML = '<div class="col-span-full text-center py-20 text-red-900 font-bold uppercase text-xs">Sync Error: ' + e.message + '</div>';
            }
        }
    </script>
</body>
</html>
